<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TLDR Music - India's Top 25</title>
    <meta name="description" content="India's definitive Top 25 music chart. Aggregated weekly from Spotify, Apple Music, YouTube Music, JioSaavn, Gaana, Billboard, and more. Discover what's trending.">
    <link rel="canonical" href="https://music.lumiolabs.in/">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="TLDR Music - India's Top 25">
    <meta property="og:description" content="India's definitive Top 25 music chart. Aggregated weekly from Spotify, Apple Music, YouTube Music, JioSaavn, Gaana, and more.">
    <meta property="og:image" content="https://music.lumiolabs.in/og-image.png">
    <meta property="og:url" content="https://music.lumiolabs.in/">
    <meta property="og:site_name" content="TLDR Music">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="TLDR Music - India's Top 25">
    <meta name="twitter:description" content="India's definitive Top 25 music chart. Aggregated weekly from Spotify, Apple Music, YouTube Music, JioSaavn, Gaana, and more.">
    <meta name="twitter:image" content="https://music.lumiolabs.in/og-image.png">

    <!-- Favicon -->
    <link rel="icon" href="favicon.ico">

    <!-- Schema.org -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "TLDR Music",
        "url": "https://music.lumiolabs.in/",
        "description": "India's definitive Top 25 music chart aggregated from multiple platforms",
        "potentialAction": {
            "@type": "SearchAction",
            "target": "https://music.lumiolabs.in/?q={search_term_string}",
            "query-input": "required name=search_term_string"
        }
    }
    </script>

    <link rel="stylesheet" href="style.css?v=62">
    <!-- Preconnect to APIs for faster initial load -->
    <link rel="preconnect" href="https://tldrmusic-api-401132033262.asia-south1.run.app">
    <link rel="preconnect" href="https://harvester.lumiolabs.in">
    <link rel="dns-prefetch" href="https://tldrmusic-api-401132033262.asia-south1.run.app">
    <link rel="dns-prefetch" href="https://harvester.lumiolabs.in">
    <link rel="dns-prefetch" href="https://i.ytimg.com">
    <link rel="dns-prefetch" href="https://lh3.googleusercontent.com">
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Red+Hat+Display:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-inner">
            <!-- Sidebar Toggle Button -->
            <button class="sidebar-toggle" id="sidebarToggle" title="Toggle sidebar">
                <svg class="icon-menu" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="3" y1="12" x2="21" y2="12"></line>
                    <line x1="3" y1="6" x2="21" y2="6"></line>
                    <line x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
                <svg class="icon-close" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>

            <!-- Sidebar Content -->
            <div class="sidebar-content">
                <!-- Home Navigation -->
                <nav class="sidebar-nav">
                    <a href="#/" class="sidebar-nav-item" id="sidebarHomeBtn">
                        <span class="sidebar-nav-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                                <polyline points="9 22 9 12 15 12 15 22"></polyline>
                            </svg>
                        </span>
                        <span class="sidebar-nav-text">Home</span>
                    </a>
                    <a href="#/charts" class="sidebar-nav-item" id="sidebarChartsBtn">
                        <span class="sidebar-nav-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="18" y1="20" x2="18" y2="10"></line>
                                <line x1="12" y1="20" x2="12" y2="4"></line>
                                <line x1="6" y1="20" x2="6" y2="14"></line>
                            </svg>
                        </span>
                        <span class="sidebar-nav-text">Charts</span>
                    </a>
                    <a href="#/discover" class="sidebar-nav-item" id="sidebarDiscoverBtn">
                        <span class="sidebar-nav-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"></polygon>
                            </svg>
                        </span>
                        <span class="sidebar-nav-text">Discover</span>
                    </a>
                    <a href="#/search" class="sidebar-nav-item" id="sidebarSearchBtn">
                        <span class="sidebar-nav-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="11" cy="11" r="8"></circle>
                                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                            </svg>
                        </span>
                        <span class="sidebar-nav-text">Search</span>
                    </a>
                </nav>

                <!-- Library Section -->
                <nav class="sidebar-nav" style="margin-top: 1.5rem;">
                    <div class="sidebar-nav-label">Your Library</div>
                    <a href="#/library" class="sidebar-nav-item" id="sidebarPlaylistsBtn">
                        <span class="sidebar-nav-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M9 18V5l12-2v13"></path>
                                <circle cx="6" cy="18" r="3"></circle>
                                <circle cx="18" cy="16" r="3"></circle>
                            </svg>
                        </span>
                        <span class="sidebar-nav-text">Playlists</span>
                    </a>
                </nav>

                <!-- Sidebar Footer -->
                <div class="sidebar-footer">
                    <button class="sidebar-footer-link" id="sidebarProfileBtn" style="display: none;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                            <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                        <span class="sidebar-footer-text">Profile</span>
                    </button>
                    <button class="sidebar-footer-link" id="shareBtn">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path>
                            <polyline points="16 6 12 2 8 6"></polyline>
                            <line x1="12" y1="2" x2="12" y2="15"></line>
                        </svg>
                        <span class="sidebar-footer-text">Refer to a friend</span>
                    </button>
                    <a href="about.html" class="sidebar-footer-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="16" x2="12" y2="12"></line>
                            <line x1="12" y1="8" x2="12.01" y2="8"></line>
                        </svg>
                        <span class="sidebar-footer-text">About</span>
                    </a>
                </div>
            </div>
        </div>
    </aside>

    <div class="app">
        <!-- Header -->
        <header class="header">
            <div class="header-bg" id="headerBg"></div>
            <div class="header-overlay"></div>
            <div class="header-inner">
                <div class="brand">
                    <!-- Hamburger menu button (visible when sidebar collapsed) -->
                    <button class="header-menu-btn" id="headerMenuBtn" title="Open menu">
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="3" y1="12" x2="21" y2="12"></line>
                            <line x1="3" y1="6" x2="21" y2="6"></line>
                            <line x1="3" y1="18" x2="21" y2="18"></line>
                        </svg>
                    </button>
                    <h1 class="logo" onclick="navigate('/')" style="cursor: pointer;">TLDR<span>Music</span></h1>
                    <div class="chart-toggle" id="chartToggle">
                        <button class="toggle-btn active" data-chart="india">
                            <span class="toggle-icon">üáÆüá≥</span>
                            <span class="toggle-label">India</span>
                        </button>
                        <button class="toggle-btn" data-chart="global">
                            <span class="toggle-icon">üåç</span>
                            <span class="toggle-label">Global</span>
                        </button>
                    </div>
                    <div class="chart-badge">
                        <span class="badge-label" id="badgeLabel">India Top 25</span>
                        <span class="badge-week" id="weekLabel">Weekly Chart</span>
                    </div>
                </div>

                <!-- Search Bar (centered) -->
                <div class="search-container" id="searchContainer">
                    <div class="search-input-wrapper">
                        <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"></circle>
                            <path d="m21 21-4.35-4.35"></path>
                        </svg>
                        <input type="text"
                               class="search-input"
                               id="searchInput"
                               placeholder="Search songs, artists..."
                               autocomplete="off"
                               autocorrect="off"
                               spellcheck="false">
                        <button class="search-clear-btn" id="searchClearBtn" title="Clear search">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="18" y1="6" x2="6" y2="18"></line>
                                <line x1="6" y1="6" x2="18" y2="18"></line>
                            </svg>
                        </button>
                    </div>

                    <!-- Dropdown Results -->
                    <div class="search-dropdown" id="searchDropdown">
                        <div class="search-dropdown-content" id="searchDropdownContent">
                            <!-- Populated by JavaScript -->
                        </div>
                        <button class="search-see-all" id="searchSeeAll">
                            <span>See all results</span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M9 18l6-6-6-6"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Mobile Search Button -->
                <button class="mobile-search-btn" id="mobileSearchBtn" title="Search">
                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="m21 21-4.35-4.35"></path>
                    </svg>
                </button>

                <div class="header-meta">
                    <span class="update-date" id="chartDate">Loading...</span>
                </div>
            </div>
        </header>

        <!-- Hero Section - #1 Song -->
        <section class="hero" id="heroSection">
            <div class="hero-bg" id="heroBg"></div>
            <!-- Theater mode video container -->
            <div class="hero-theater" id="heroTheater">
                <div class="theater-video" id="theaterVideo"></div>
                <button class="theater-close" id="theaterClose" title="Close theater mode">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
                <div class="theater-info">
                    <span class="theater-title" id="theaterTitle"></span>
                    <span class="theater-artist" id="theaterArtist"></span>
                </div>
            </div>
            <!-- Hero Skeleton Loading -->
            <div class="hero-skeleton skeleton-container" id="heroSkeleton">
                <div class="skeleton skeleton-artwork"></div>
                <div class="skeleton-content">
                    <div class="skeleton skeleton-label"></div>
                    <div class="skeleton skeleton-title"></div>
                    <div class="skeleton skeleton-artist"></div>
                    <div class="skeleton-stats">
                        <div class="skeleton skeleton-stat"></div>
                        <div class="skeleton skeleton-stat"></div>
                    </div>
                    <div class="skeleton skeleton-button"></div>
                </div>
            </div>
            <div class="hero-inner" id="heroInner" style="display: none;">
                <div class="hero-artwork-wrapper">
                    <img class="hero-artwork" id="heroArtwork" src="" alt="" style="display: none;">
                    <div class="hero-rank">
                        <span class="rank-hash">#</span>
                        <span class="rank-num">1</span>
                    </div>
                </div>
                <div class="hero-content">
                    <span class="hero-label">This Week's #1</span>
                    <h2 class="hero-title" id="heroTitle">-</h2>
                    <p class="hero-artist" id="heroArtist">-</p>
                    <div class="hero-stats">
                        <div class="stat">
                            <span class="stat-value"><img src="‚ú¶.png" alt="" class="rating-icon" id="heroRatingIcon" style="display:none;"><span id="heroScore">-</span></span>
                            <span class="stat-label">Score</span>
                        </div>
                        <div class="stat" id="heroViewsStat">
                            <span class="stat-value" id="heroViews">-</span>
                            <span class="stat-label">YT Views</span>
                        </div>
                    </div>
                    <div class="hero-controls">
                        <button class="btn-play-hero" id="playHeroBtn">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                <polygon points="5 3 19 12 5 21 5 3"></polygon>
                            </svg>
                            Play Now
                        </button>
                        <div class="hero-actions">
                            <button class="hero-action-btn" id="heroVideoBtn" title="Video">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="2" y="4" width="20" height="16" rx="2"></rect>
                                    <polygon points="10 9 15 12 10 15" fill="currentColor"></polygon>
                                </svg>
                            </button>
                        </div>
                    </div>
                    <!-- Hero progress bar -->
                    <div class="hero-progress" id="heroProgress">
                        <div class="hero-progress-bar" id="heroProgressBar">
                            <div class="hero-progress-fill" id="heroProgressFill"></div>
                        </div>
                        <div class="hero-progress-time">
                            <span id="heroTimeCurrent">0:00</span>
                            <span id="heroTimeDuration">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Dynamic gradient background (outside main for proper z-index) -->
        <div class="main-gradient" id="mainGradient"></div>

        <!-- Main Content -->
        <main class="main">
            <!-- Home View (shown by default) -->
            <section class="home-view" id="homeView">
                <!-- Chart selector cards -->
                <div class="home-chart-selector">
                    <div class="home-chart-card india active" id="homeIndiaCard" onclick="selectHomeChart('india')">
                        <div class="home-chart-icon">
                            <span class="home-chart-flag">üáÆüá≥</span>
                        </div>
                        <div class="home-chart-info">
                            <h3>India Top 25</h3>
                            <p class="home-chart-subtitle">Trending across India</p>
                        </div>
                    </div>

                    <div class="home-chart-card global" id="homeGlobalCard" onclick="selectHomeChart('global')">
                        <div class="home-chart-icon">
                            <span class="home-chart-flag">üåç</span>
                        </div>
                        <div class="home-chart-info">
                            <h3>Global Top 25</h3>
                            <p class="home-chart-subtitle">Worldwide hits</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Playlists View (shown when clicking Playlists in sidebar) -->
            <section class="playlists-view" id="playlistsView" style="display: none;">
                <div class="playlists-view-header">
                    <div class="playlists-view-title">
                        <h2>Your Playlists</h2>
                        <span class="playlists-count-badge" id="playlistsViewCount">0</span>
                    </div>
                    <div class="playlists-header-actions">
                        <div class="playlists-sort">
                            <span class="playlists-sort-label">Sort by:</span>
                            <select class="playlists-sort-select" id="playlistsSortSelect" onchange="sortPlaylists(this.value)">
                                <option value="recent">Recently Updated</option>
                                <option value="name">Name (A-Z)</option>
                                <option value="name-desc">Name (Z-A)</option>
                                <option value="songs">Most Songs</option>
                                <option value="created">Date Created</option>
                            </select>
                        </div>
                        <button class="btn-primary" onclick="showCreatePlaylistModal()">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                            Create Playlist
                        </button>
                    </div>
                </div>

                <!-- Library Cards (Favorites & History) -->
                <div class="library-cards" id="libraryCards">
                    <div class="library-card" id="favoritesCard" onclick="showFavoritesDetail()">
                        <div class="library-card-icon favorites-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none">
                                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                            </svg>
                        </div>
                        <div class="library-card-info">
                            <span class="library-card-title">Liked Songs</span>
                            <span class="library-card-count" id="favoritesCardCount">0 songs</span>
                        </div>
                    </div>
                    <div class="library-card" id="historyCard" onclick="showHistoryDetail()">
                        <div class="library-card-icon history-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="12 6 12 12 16 14"></polyline>
                            </svg>
                        </div>
                        <div class="library-card-info">
                            <span class="library-card-title">Recently Played</span>
                            <span class="library-card-count" id="historyCardCount">0 songs</span>
                        </div>
                    </div>
                </div>

                <!-- AI Playlist Generator -->
                <div class="ai-playlist-section" id="aiPlaylistSection">
                    <div class="ai-playlist-header">
                        <div class="ai-playlist-title">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
                                <path d="M2 17l10 5 10-5"></path>
                                <path d="M2 12l10 5 10-5"></path>
                            </svg>
                            <h3>Create with AI</h3>
                        </div>
                        <p class="ai-playlist-subtitle">Describe your perfect playlist and let AI create it for you</p>
                    </div>
                    <div class="ai-playlist-input-container">
                        <textarea
                            id="aiPlaylistPrompt"
                            class="ai-playlist-input"
                            placeholder="e.g., Upbeat Hindi songs for a road trip, or Relaxing instrumental music for studying..."
                            rows="2"
                            maxlength="500"
                        ></textarea>
                        <div class="ai-playlist-actions">
                            <select id="aiPlaylistLanguage" class="ai-playlist-language">
                                <option value="">Any Language</option>
                                <option value="hi">Hindi</option>
                                <option value="en">English</option>
                                <option value="pa">Punjabi</option>
                                <option value="ta">Tamil</option>
                                <option value="te">Telugu</option>
                                <option value="bn">Bengali</option>
                                <option value="mr">Marathi</option>
                                <option value="gu">Gujarati</option>
                            </select>
                            <button class="ai-playlist-generate-btn" id="aiPlaylistGenerateBtn" onclick="generateAIPlaylist()">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>
                                </svg>
                                Generate
                            </button>
                        </div>
                    </div>
                    <!-- Generated playlist preview -->
                    <div class="ai-playlist-preview" id="aiPlaylistPreview" style="display: none;">
                        <div class="ai-playlist-preview-header">
                            <div class="ai-preview-info">
                                <h4 id="aiPreviewName">Generated Playlist</h4>
                                <span id="aiPreviewCount">0 songs</span>
                            </div>
                            <div class="ai-preview-actions">
                                <button class="ai-preview-play-btn" onclick="playGeneratedPlaylist()">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                        <polygon points="5 3 19 12 5 21 5 3"></polygon>
                                    </svg>
                                    Play
                                </button>
                                <button class="ai-preview-save-btn" onclick="saveGeneratedPlaylist()">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path>
                                        <polyline points="17 21 17 13 7 13 7 21"></polyline>
                                        <polyline points="7 3 7 8 15 8"></polyline>
                                    </svg>
                                    Save to Library
                                </button>
                                <button class="ai-preview-close-btn" onclick="closeGeneratedPreview()">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <line x1="18" y1="6" x2="6" y2="18"></line>
                                        <line x1="6" y1="6" x2="18" y2="18"></line>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <div class="ai-playlist-preview-songs" id="aiPreviewSongs">
                            <!-- Generated songs will be rendered here -->
                        </div>
                    </div>
                </div>

                <!-- Recently Played Playlists -->
                <div class="recently-played-section" id="recentlyPlayedSection" style="display: none;">
                    <div class="recently-played-header">
                        <h3>
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="12 6 12 12 16 14"></polyline>
                            </svg>
                            Recently Played
                        </h3>
                    </div>
                    <div class="recently-played-scroll" id="recentlyPlayedScroll">
                        <!-- Recently played playlists will be rendered here -->
                    </div>
                </div>

                <!-- All Playlists -->
                <div class="playlists-section-divider" id="allPlaylistsDivider" style="display: none;">
                    <h3>All Playlists</h3>
                </div>
                <div class="playlists-grid" id="playlistsGrid">
                    <!-- Playlists will be rendered here -->
                </div>
            </section>

            <!-- Playlist Detail View (shown when clicking a playlist) -->
            <section class="playlist-detail-view" id="playlistDetailView" style="display: none;">
                <div class="playlist-detail-header" id="playlistDetailHeader"></div>
                <div class="playlist-detail-songs" id="playlistDetailSongs"></div>
            </section>

            <!-- Favorites Detail View -->
            <section class="playlist-detail-view" id="favoritesDetailView" style="display: none;">
                <div class="playlist-detail-header" id="favoritesDetailHeader"></div>
                <div class="playlist-detail-songs" id="favoritesDetailSongs"></div>
            </section>

            <!-- History Detail View -->
            <section class="playlist-detail-view" id="historyDetailView" style="display: none;">
                <div class="playlist-detail-header" id="historyDetailHeader"></div>
                <div class="playlist-detail-songs" id="historyDetailSongs"></div>
            </section>

            <!-- Artist Detail View -->
            <section class="artist-detail-view" id="artistDetailView" style="display: none;">
                <div class="artist-detail-header" id="artistDetailHeader"></div>
                <div class="artist-detail-content" id="artistDetailContent"></div>
            </section>

            <!-- Chart Detail View -->
            <section class="chart-detail-view" id="chartDetailView" style="display: none;">
                <div class="chart-detail-header" id="chartDetailHeader"></div>
                <div class="chart-detail-songs" id="chartDetailSongs"></div>
            </section>

            <!-- Search View -->
            <section class="search-view" id="searchView" style="display: none;">
                <div class="search-view-header">
                    <button class="detail-back-btn" onclick="closeSearchView()" title="Back">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M19 12H5M12 19l-7-7 7-7"/>
                        </svg>
                    </button>
                    <div class="search-view-input-wrapper">
                        <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"></circle>
                            <path d="m21 21-4.35-4.35"></path>
                        </svg>
                        <input type="text"
                               class="search-view-input"
                               id="searchViewInput"
                               placeholder="Search songs, artists..."
                               autocomplete="off">
                        <button class="search-view-clear-btn" id="searchViewClearBtn" title="Clear">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="18" y1="6" x2="6" y2="18"></line>
                                <line x1="6" y1="6" x2="18" y2="18"></line>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Search View Content -->
                <div class="search-view-content" id="searchViewContent">
                    <!-- Empty State (shown when no query) -->
                    <div class="search-empty-state" id="searchEmptyState">
                        <!-- Recent Searches Section -->
                        <div class="search-section" id="recentSearchesSection">
                            <div class="search-section-header">
                                <h3>Recent Searches</h3>
                                <button class="search-clear-history" id="clearSearchHistory">Clear All</button>
                            </div>
                            <div class="recent-searches-list" id="recentSearchesList">
                                <!-- Recent searches rendered here -->
                            </div>
                        </div>

                        <!-- Trending Songs Section -->
                        <div class="search-section" id="trendingSongsSection">
                            <div class="search-section-header">
                                <h3>Trending Now</h3>
                            </div>
                            <div class="trending-songs-grid" id="trendingSongsGrid">
                                <!-- Top songs from current chart -->
                            </div>
                        </div>

                        <!-- Browse by Mood Section -->
                        <div class="search-section" id="browseMoodsSection">
                            <div class="search-section-header">
                                <h3>Browse by Mood</h3>
                            </div>
                            <div class="browse-moods-grid" id="browseMoodsGrid">
                                <!-- Mood cards -->
                            </div>
                        </div>
                    </div>

                    <!-- Search Results (shown when query present) -->
                    <div class="search-results" id="searchResults" style="display: none;">
                        <div class="search-results-header">
                            <span class="search-results-count" id="searchResultsCount">0 results</span>
                        </div>
                        <div class="search-results-list" id="searchResultsList">
                            <!-- Search result items -->
                        </div>
                        <div class="search-loading" id="searchLoading" style="display: none;">
                            <div class="search-loading-spinner"></div>
                            <span>Searching...</span>
                        </div>
                        <div class="search-no-results" id="searchNoResults" style="display: none;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                <circle cx="11" cy="11" r="8"></circle>
                                <path d="m21 21-4.35-4.35"></path>
                            </svg>
                            <h3>No results found</h3>
                            <p>Try a different search term</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Charts View -->
            <section class="charts-view" id="chartsView" style="display: none;">
                <div class="charts-header">
                    <h2>Charts</h2>
                    <p class="charts-subtitle">Multi-platform aggregated rankings updated weekly</p>
                </div>

                <!-- Main Charts -->
                <div class="charts-section">
                    <div class="charts-section-header">
                        <h3>Top Charts</h3>
                    </div>
                    <div class="charts-grid main-charts-grid" id="mainChartsGrid">
                        <!-- Main chart cards (India, Global) will be rendered by JS -->
                    </div>
                </div>

                <!-- Platform Charts -->
                <div class="charts-section">
                    <div class="charts-section-header">
                        <h3>By Platform</h3>
                    </div>
                    <div class="charts-grid platform-charts-grid" id="platformChartsGrid">
                        <!-- Platform chart cards will be rendered by JS -->
                    </div>
                </div>
            </section>

            <!-- Charts Detail View (for viewing full chart) -->
            <section class="charts-detail-view" id="chartsDetailView" style="display: none;">
                <div class="charts-detail-header" id="chartsDetailHeader"></div>
                <div class="charts-detail-content" id="chartsDetailContent"></div>
            </section>

            <!-- Discover View -->
            <section class="ai-generated-view" id="aiGeneratedView" style="display: none;">
                <div class="ai-generated-header">
                    <h2>Discover</h2>
                    <p class="ai-generated-subtitle">Explore 68,000+ tracks by mood, genre, language, and artist</p>
                </div>
                <div class="ai-generated-content" id="aiGeneratedContent">
                    <!-- Content will be rendered by JS -->
                </div>
            </section>

            <!-- AI Playlist Detail View -->
            <section class="ai-playlist-detail-view" id="aiPlaylistDetailView" style="display: none;">
                <div class="ai-playlist-detail-header" id="aiPlaylistDetailHeader"></div>
                <div class="ai-playlist-detail-songs" id="aiPlaylistDetailSongs"></div>
            </section>

            <!-- Main Content (charts, etc.) -->
            <div id="mainContent">
            <!-- Chart List -->
            <section class="chart-section">
                <div class="chart-header">
                    <div class="section-title">
                        <h3>Quick Picks</h3>
                        <span class="section-count-badge" id="quickPicksCount">25</span>
                    </div>
                    <button class="see-all-btn" id="seeAllChartBtn" onclick="showChartDetail(currentChartMode)">
                        See All
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M9 18l6-6-6-6"/>
                        </svg>
                    </button>
                </div>
                <div class="chart-list" id="chartList">
                    <!-- Skeleton cards will be injected here by JS -->
                </div>
            </section>

            <!-- Discover India (India Catalog Playlists) -->
            <section class="regional-section discover-india-section" id="discoverIndiaSection">
                <div class="regional-header">
                    <div class="section-title">
                        <h3>Discover India</h3>
                        <span class="section-count-badge" id="discoverIndiaCount">76K+</span>
                    </div>
                </div>
                <!-- Genre selector -->
                <div class="regional-language-selector" id="discoverIndiaGenreSelector">
                    <!-- Genre buttons generated by JS -->
                </div>
                <!-- Songs grid for selected genre -->
                <div class="regional-chart-grid" id="discoverIndiaGrid">
                    <!-- Songs will be rendered here -->
                </div>
            </section>

            <!-- Platform Charts (Global mode) -->
            <section class="regional-section global-spotlights" id="globalSpotlightsSection" style="display: none;">
                <div class="regional-header">
                    <div class="section-title">
                        <h3>Platform Charts</h3>
                        <span class="section-count-badge" id="globalSpotlightsCount">3</span>
                    </div>
                </div>
                <!-- Platform selector -->
                <div class="regional-language-selector" id="globalPlatformSelector">
                    <!-- Platform buttons generated by JS -->
                </div>
                <!-- Songs grid for selected platform -->
                <div class="regional-chart-grid" id="globalPlatformGrid">
                    <!-- Songs will be rendered here -->
                </div>
            </section>
            </div><!-- End mainContent -->
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p class="copyright">&copy; 2025 TLDR Music</p>
        </footer>
    </div>

    <!-- Floating Player Bar -->
    <div class="player-bar" id="playerBar">
        <!-- Video container (mini player) -->
        <div class="video-container" id="videoContainer">
            <div class="video-wrapper" id="videoWrapper">
                <div class="player-placeholder">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
                        <circle cx="12" cy="12" r="10"></circle>
                        <polygon points="10 8 16 12 10 16 10 8" fill="currentColor"></polygon>
                    </svg>
                </div>
            </div>
            <button class="video-close" id="videoClose" title="Close video">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
        </div>

        <div class="player-bar-inner">
            <!-- Song info -->
            <div class="player-bar-info">
                <div class="player-bar-artwork-wrapper">
                    <img class="player-bar-artwork" id="playerBarArtwork" src="" alt="">
                </div>
                <div class="player-bar-text">
                    <span class="player-bar-title" id="playerBarTitle">Select a song</span>
                    <span class="player-bar-artist" id="playerBarArtist">to start playing</span>
                    <span class="player-bar-source">
                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"/>
                        </svg>
                        YouTube
                    </span>
                </div>
            </div>

            <!-- Center: Controls + Progress -->
            <div class="player-bar-center">
                <div class="player-bar-controls">
                    <button class="control-btn" id="shuffleBtn" title="Shuffle (S)">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="16 3 21 3 21 8"></polyline>
                            <line x1="4" y1="20" x2="21" y2="3"></line>
                            <polyline points="21 16 21 21 16 21"></polyline>
                            <line x1="15" y1="15" x2="21" y2="21"></line>
                            <line x1="4" y1="4" x2="9" y2="9"></line>
                        </svg>
                    </button>
                    <button class="control-btn" id="prevBtn" title="Previous">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/>
                        </svg>
                    </button>
                    <button class="control-btn play-btn" id="playPauseBtn" title="Play/Pause">
                        <svg class="icon-play" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                            <polygon points="5 3 19 12 5 21 5 3"></polygon>
                        </svg>
                        <svg class="icon-pause" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                            <rect x="6" y="4" width="4" height="16"></rect>
                            <rect x="14" y="4" width="4" height="16"></rect>
                        </svg>
                    </button>
                    <button class="control-btn" id="nextBtn" title="Next">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/>
                        </svg>
                    </button>
                    <button class="control-btn" id="repeatBtn" title="Repeat (R)">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="17 1 21 5 17 9"></polyline>
                            <path d="M3 11V9a4 4 0 0 1 4-4h14"></path>
                            <polyline points="7 23 3 19 7 15"></polyline>
                            <path d="M21 13v2a4 4 0 0 1-4 4H3"></path>
                        </svg>
                        <span class="repeat-one-badge">1</span>
                    </button>
                </div>
                <div class="progress-inline">
                    <span class="time-inline" id="timeCurrent">0:00</span>
                    <div class="progress-bar-inline" id="progressBar">
                        <div class="progress-fill-inline" id="progressFill"></div>
                    </div>
                    <span class="time-inline" id="timeDuration">0:00</span>
                </div>
            </div>

            <!-- Right controls -->
            <div class="player-bar-actions">
                <button class="action-btn" id="favoriteBtn" title="Add to Favorites (H)">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                    </svg>
                </button>
                <button class="action-btn" id="queueToggleBtn" title="Queue (Q)">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="8" y1="6" x2="21" y2="6"></line>
                        <line x1="8" y1="12" x2="21" y2="12"></line>
                        <line x1="8" y1="18" x2="21" y2="18"></line>
                        <line x1="3" y1="6" x2="3.01" y2="6"></line>
                        <line x1="3" y1="12" x2="3.01" y2="12"></line>
                        <line x1="3" y1="18" x2="3.01" y2="18"></line>
                    </svg>
                    <span class="queue-badge" id="queueBadge"></span>
                </button>
                <button class="action-btn" id="playlistToggleBtn" title="Playlists (P)" onclick="togglePlaylistPanel()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 18V5l12-2v13"></path>
                        <circle cx="6" cy="18" r="3"></circle>
                        <circle cx="18" cy="16" r="3"></circle>
                    </svg>
                    <span class="playlist-badge" id="playlistBadge"></span>
                </button>
                <button class="action-btn" id="videoToggleBtn" title="Show video">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="2" y="4" width="20" height="16" rx="2"></rect>
                        <polygon points="10 9 15 12 10 15" fill="currentColor"></polygon>
                    </svg>
                </button>
            </div>
        </div>
    </div>
    <!-- Profile Page (Full Screen) -->
    <div class="profile-page" id="profilePanel">
        <div class="profile-page-overlay" id="profileOverlay"></div>
        <div class="profile-page-container">
            <!-- Header -->
            <div class="profile-page-header">
                <button class="profile-back" id="profileClose" title="Back">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="15 18 9 12 15 6"></polyline>
                    </svg>
                    Back
                </button>
                <div class="profile-header-actions">
                    <button class="profile-share-btn" id="profileShareBtn" title="Share Profile">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="18" cy="5" r="3"></circle>
                            <circle cx="6" cy="12" r="3"></circle>
                            <circle cx="18" cy="19" r="3"></circle>
                            <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
                            <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
                        </svg>
                        Share
                    </button>
                    <button class="profile-signout-btn" id="profileSignout">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                            <polyline points="16 17 21 12 16 7"></polyline>
                            <line x1="21" y1="12" x2="9" y2="12"></line>
                        </svg>
                        Sign Out
                    </button>
                </div>
            </div>

            <!-- Profile Banner -->
            <div class="profile-banner" id="profileBanner">
                <div class="profile-banner-gradient"></div>
            </div>

            <!-- User Hero (Enhanced) -->
            <div class="profile-hero-enhanced">
                <div class="profile-avatar-container">
                    <img class="profile-avatar-large" id="profileAvatar" src="" alt="">
                </div>
                <div class="profile-hero-content">
                    <h1 class="profile-display-name" id="profileName">-</h1>
                    <div class="profile-username-row" id="profileUsernameRow">
                        <span class="profile-username" id="profileUsername">Set a username</span>
                        <button class="profile-username-edit" onclick="showUsernameModal()" title="Edit username">
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                            </svg>
                        </button>
                    </div>
                    <p class="profile-bio" id="profileBio">Music lover exploring new sounds</p>
                    <div class="profile-meta">
                        <span class="profile-member-since" id="profileMemberSince">
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                <line x1="16" y1="2" x2="16" y2="6"></line>
                                <line x1="8" y1="2" x2="8" y2="6"></line>
                                <line x1="3" y1="10" x2="21" y2="10"></line>
                            </svg>
                            Listening since Dec 2024
                        </span>
                    </div>
                </div>
            </div>

            <!-- Stats Cards -->
            <div class="profile-stats-grid">
                <div class="profile-stat-card">
                    <div class="stat-card-icon songs-played">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polygon points="5 3 19 12 5 21 5 3"></polygon>
                        </svg>
                    </div>
                    <div class="stat-card-info">
                        <span class="stat-card-value" id="profileHistoryCount">0</span>
                        <span class="stat-card-label">Songs Played</span>
                    </div>
                </div>
                <div class="profile-stat-card">
                    <div class="stat-card-icon liked-songs">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                        </svg>
                    </div>
                    <div class="stat-card-info">
                        <span class="stat-card-value" id="profileFavCount">0</span>
                        <span class="stat-card-label">Liked Songs</span>
                    </div>
                </div>
                <div class="profile-stat-card">
                    <div class="stat-card-icon playlists">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="8" y1="6" x2="21" y2="6"></line>
                            <line x1="8" y1="12" x2="21" y2="12"></line>
                            <line x1="8" y1="18" x2="21" y2="18"></line>
                            <line x1="3" y1="6" x2="3.01" y2="6"></line>
                            <line x1="3" y1="12" x2="3.01" y2="12"></line>
                            <line x1="3" y1="18" x2="3.01" y2="18"></line>
                        </svg>
                    </div>
                    <div class="stat-card-info">
                        <span class="stat-card-value" id="profilePlaylistCount">0</span>
                        <span class="stat-card-label">Playlists</span>
                    </div>
                </div>
                <div class="profile-stat-card">
                    <div class="stat-card-icon top-genre">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M9 18V5l12-2v13"></path>
                            <circle cx="6" cy="18" r="3"></circle>
                            <circle cx="18" cy="16" r="3"></circle>
                        </svg>
                    </div>
                    <div class="stat-card-info">
                        <span class="stat-card-value" id="profileTopLanguage">-</span>
                        <span class="stat-card-label">Top Language</span>
                    </div>
                </div>
            </div>

            <!-- Top Artists Section -->
            <section class="profile-section">
                <div class="profile-section-header">
                    <h2>Top Artists</h2>
                    <span class="profile-section-subtitle">Based on your favorites</span>
                </div>
                <div class="profile-top-artists" id="profileTopArtists">
                    <div class="profile-row-empty">
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                            <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                        <p>Like some songs to see your top artists</p>
                    </div>
                </div>
            </section>

            <!-- Top Songs Section -->
            <section class="profile-section">
                <div class="profile-section-header">
                    <h2>Most Played</h2>
                    <span class="profile-section-subtitle">Your favorite tracks</span>
                </div>
                <div class="profile-top-songs" id="profileTopSongs">
                    <div class="profile-row-empty">
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <path d="M9 18V5l12-2v13"></path>
                            <circle cx="6" cy="18" r="3"></circle>
                            <circle cx="18" cy="16" r="3"></circle>
                        </svg>
                        <p>Play some songs to see your most played</p>
                    </div>
                </div>
            </section>

            <!-- Liked Songs Row -->
            <section class="profile-section">
                <div class="profile-section-header">
                    <h2>Liked Songs</h2>
                    <span class="profile-section-count" id="likedCount">0 songs</span>
                </div>
                <div class="profile-row-scroll" id="profileLikedSongs">
                    <div class="profile-row-empty">
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                        </svg>
                        <p>No liked songs yet</p>
                    </div>
                </div>
            </section>

        </div>
    </div>

    <!-- Queue Panel -->
    <div class="queue-panel" id="queuePanel">
        <div class="queue-panel-header">
            <div class="queue-panel-title">
                <span>Queue</span>
                <span class="queue-panel-count" id="queuePanelCount">0 songs</span>
            </div>
            <div class="queue-panel-actions">
                <button class="queue-clear-btn" id="queueClear" title="Clear queue">Clear</button>
                <button class="queue-close" id="queueClose" title="Close queue">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
        </div>
        <div class="queue-content" id="queueContent">
            <div class="queue-empty">
                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
                    <line x1="8" y1="6" x2="21" y2="6"></line>
                    <line x1="8" y1="12" x2="21" y2="12"></line>
                    <line x1="8" y1="18" x2="21" y2="18"></line>
                    <line x1="3" y1="6" x2="3.01" y2="6"></line>
                    <line x1="3" y1="12" x2="3.01" y2="12"></line>
                    <line x1="3" y1="18" x2="3.01" y2="18"></line>
                </svg>
                <p>Your queue is empty</p>
                <p class="queue-hint">Click + on song cards to add them</p>
            </div>
        </div>
    </div>


    <!-- Create Playlist Modal -->
    <div class="modal" id="createPlaylistModal">
        <div class="modal-backdrop" onclick="hideCreatePlaylistModal()"></div>
        <div class="modal-content">
            <h3>Create Playlist</h3>
            <p>Give your playlist a name</p>
            <input type="text" class="modal-input" id="newPlaylistName" placeholder="My Playlist" maxlength="50" onkeypress="if(event.key==='Enter')handleCreatePlaylist()">
            <div class="modal-buttons">
                <button class="btn-secondary" onclick="hideCreatePlaylistModal()">Cancel</button>
                <button class="btn-primary" onclick="handleCreatePlaylist()">Create</button>
            </div>
        </div>
    </div>

    <!-- Add to Playlist Modal -->
    <div class="modal" id="addToPlaylistModal">
        <div class="modal-backdrop" onclick="hideAddToPlaylistModal()"></div>
        <div class="modal-content">
            <h3>Add to Playlist</h3>
            <p>Choose a playlist</p>
            <div class="playlist-select-list" id="playlistSelectList"></div>
            <button class="create-new-in-modal" onclick="hideAddToPlaylistModal(); showCreatePlaylistModal();">+ Create New Playlist</button>
        </div>
    </div>

    <!-- Export Playlist Modal -->
    <div class="modal" id="exportPlaylistModal">
        <div class="modal-backdrop" onclick="hideExportModal()"></div>
        <div class="modal-content export-modal">
            <h3>Export Playlist</h3>
            <p class="export-desc">Export your playlist to other platforms</p>
            <div class="export-options">
                <button class="export-option" onclick="exportToSpotify()">
                    <svg viewBox="0 0 24 24" width="32" height="32" fill="#1DB954">
                        <path d="M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"/>
                    </svg>
                    <span>Spotify</span>
                </button>
                <button class="export-option" onclick="exportToYouTube()">
                    <svg viewBox="0 0 24 24" width="32" height="32" fill="#FF0000">
                        <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                    </svg>
                    <span>YouTube Music</span>
                </button>
                <button class="export-option" onclick="exportToAppleMusic()">
                    <svg viewBox="0 0 24 24" width="32" height="32" fill="#FC3C44">
                        <path d="M23.994 6.124a9.23 9.23 0 00-.24-2.19c-.317-1.31-1.062-2.31-2.18-3.043a5.022 5.022 0 00-1.877-.726 10.496 10.496 0 00-1.564-.15c-.04-.003-.083-.01-.124-.013H5.986c-.152.01-.303.017-.455.026-.747.043-1.49.123-2.193.4-1.336.53-2.3 1.452-2.865 2.78-.192.448-.292.925-.363 1.408-.056.392-.088.785-.1 1.18 0 .032-.007.062-.01.093v12.223c.01.14.017.283.027.424.05.815.154 1.624.497 2.373.65 1.42 1.738 2.353 3.234 2.801.42.127.856.187 1.293.228.555.053 1.11.06 1.667.06h11.03a12.5 12.5 0 001.57-.1c.822-.106 1.596-.35 2.295-.81a5.046 5.046 0 001.88-2.207c.186-.42.293-.87.37-1.324.113-.675.138-1.358.137-2.04-.002-3.8 0-7.595-.003-11.393zm-6.423 3.99v5.712c0 .417-.058.827-.244 1.206-.29.59-.76.962-1.388 1.14-.35.1-.706.157-1.07.173-.95.042-1.8-.335-2.22-1.098-.46-.832-.378-1.76.238-2.483.426-.5.98-.755 1.616-.907.476-.113.96-.18 1.438-.278.19-.04.378-.09.56-.164.242-.1.394-.294.44-.553.018-.106.026-.214.026-.323V8.78c0-.18-.048-.32-.213-.397a.96.96 0 00-.357-.088 43.655 43.655 0 00-1.097-.124c-.778-.085-1.556-.168-2.335-.25l-2.336-.247c-.28-.03-.56-.058-.84-.084-.11-.01-.163.04-.176.15-.006.062-.01.124-.01.186v7.07c0 .418-.057.828-.24 1.206-.29.595-.76.964-1.392 1.143-.346.1-.7.154-1.06.172-.96.042-1.81-.33-2.23-1.094-.46-.838-.38-1.774.24-2.5.425-.497.977-.753 1.614-.906.476-.113.96-.18 1.44-.278.192-.04.382-.09.565-.166.24-.1.39-.29.436-.55.018-.106.026-.214.026-.322V6.163c0-.14.02-.27.073-.398.094-.226.264-.364.498-.413.128-.027.258-.042.39-.053.56-.047 1.12-.088 1.68-.128.72-.052 1.44-.107 2.16-.16l2.16-.163c.68-.05 1.36-.102 2.04-.15.26-.02.52-.033.78-.043.195-.008.3.078.353.27.016.055.023.113.023.17z"/>
                    </svg>
                    <span>Apple Music</span>
                </button>
            </div>
            <button class="btn-secondary modal-close-btn" onclick="hideExportModal()">Cancel</button>
        </div>
    </div>

    <!-- Artwork Customization Modal -->
    <div class="modal" id="artworkModal">
        <div class="modal-backdrop" onclick="hideArtworkModal()"></div>
        <div class="modal-content artwork-modal">
            <h3>Customize Artwork</h3>
            <p class="artwork-desc">Choose how your playlist looks</p>

            <div class="artwork-preview" id="artworkPreview">
                <div class="artwork-preview-placeholder">
                    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                        <path d="M9 18V5l12-2v13"></path>
                        <circle cx="6" cy="18" r="3"></circle>
                        <circle cx="18" cy="16" r="3"></circle>
                    </svg>
                </div>
            </div>

            <div class="artwork-options">
                <label class="artwork-upload-btn">
                    <input type="file" accept="image/*" onchange="handleArtworkUpload(event)" hidden>
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="17 8 12 3 7 8"></polyline>
                        <line x1="12" y1="3" x2="12" y2="15"></line>
                    </svg>
                    Upload Image
                </label>
                <button class="artwork-option-btn" onclick="removeCustomArtwork()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                    Remove
                </button>
            </div>

            <div class="artwork-from-songs" id="artworkFromSongs">
                <p class="artwork-songs-label">Or choose from your songs:</p>
                <div class="artwork-songs-grid" id="artworkSongsGrid">
                    <!-- Song artworks will be rendered here -->
                </div>
            </div>

            <div class="modal-buttons">
                <button class="btn-secondary" onclick="hideArtworkModal()">Cancel</button>
                <button class="btn-primary" onclick="savePlaylistArtwork()">Save</button>
            </div>
        </div>
    </div>

    <!-- Share Playlist Modal -->
    <div class="modal" id="sharePlaylistModal">
        <div class="modal-backdrop" onclick="hideShareModal()"></div>
        <div class="modal-content share-modal">
            <h3>Share Playlist</h3>
            <p class="share-playlist-name" id="sharePlaylistName"></p>
            <span class="share-visibility-badge" id="shareVisibilityBadge"></span>

            <div class="share-url-container">
                <input type="text" class="modal-input share-url-input" id="shareUrlInput" readonly>
                <button class="btn-copy" onclick="copyShareUrl()" title="Copy link">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                    </svg>
                </button>
            </div>

            <p class="share-section-label">Share to</p>
            <div class="share-social-buttons">
                <button class="share-social-btn twitter" onclick="shareToTwitter()">
                    <svg viewBox="0 0 24 24" width="20" height="20">
                        <path fill="currentColor" d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                    </svg>
                    <span>Twitter</span>
                </button>
                <button class="share-social-btn facebook" onclick="shareToFacebook()">
                    <svg viewBox="0 0 24 24" width="20" height="20">
                        <path fill="currentColor" d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                    </svg>
                    <span>Facebook</span>
                </button>
                <button class="share-social-btn whatsapp" onclick="shareToWhatsApp()">
                    <svg viewBox="0 0 24 24" width="20" height="20">
                        <path fill="currentColor" d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
                    </svg>
                    <span>WhatsApp</span>
                </button>
                <button class="share-social-btn instagram" onclick="shareToInstagram()">
                    <svg viewBox="0 0 24 24" width="20" height="20">
                        <path fill="currentColor" d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z"/>
                    </svg>
                    <span>Instagram</span>
                </button>
            </div>

            <div class="share-native-btn-container">
                <button class="btn-secondary share-native-btn" onclick="shareNative()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="18" cy="5" r="3"></circle>
                        <circle cx="6" cy="12" r="3"></circle>
                        <circle cx="18" cy="19" r="3"></circle>
                        <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
                        <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
                    </svg>
                    More sharing options
                </button>
            </div>

            <button class="btn-secondary modal-close-btn" onclick="hideShareModal()">Close</button>
        </div>
    </div>

    <!-- Username Modal -->
    <div class="modal" id="usernameModal">
        <div class="modal-backdrop" onclick="hideUsernameModal()"></div>
        <div class="modal-content username-modal">
            <h3>Set Your Username</h3>
            <p class="username-modal-subtitle">Choose a unique username for your profile. Others will find you at tldrmusic.in/u/username</p>

            <div class="username-input-wrapper">
                <span class="username-prefix">@</span>
                <input type="text" class="username-input" id="usernameInput" placeholder="username" maxlength="20" oninput="checkUsernameAvailability()">
            </div>
            <p class="username-hint" id="usernameHint">3-20 characters: letters, numbers, underscores</p>
            <p class="username-status" id="usernameStatus"></p>

            <div class="username-modal-actions">
                <button class="btn-secondary" onclick="hideUsernameModal()">Cancel</button>
                <button class="btn-primary" id="saveUsernameBtn" onclick="saveUsername()" disabled>Save Username</button>
            </div>
        </div>
    </div>

    <!-- Playlist Context Menu -->
    <div class="playlist-context-menu" id="playlistContextMenu">
        <div class="playlist-context-item" onclick="playPlaylist(currentContextPlaylistId)">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
            <span>Play</span>
        </div>
        <div class="playlist-context-item" onclick="shufflePlaylist(currentContextPlaylistId)">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="16 3 21 3 21 8"></polyline><line x1="4" y1="20" x2="21" y2="3"></line><polyline points="21 16 21 21 16 21"></polyline><line x1="15" y1="15" x2="21" y2="21"></line><line x1="4" y1="4" x2="9" y2="9"></line></svg>
            <span>Shuffle</span>
        </div>
        <div class="playlist-context-divider"></div>
        <div class="playlist-context-item" onclick="promptRenamePlaylist(currentContextPlaylistId)">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 20h9"></path><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path></svg>
            <span>Rename</span>
        </div>
        <div class="playlist-context-item" onclick="sharePlaylist(currentContextPlaylistId)">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line></svg>
            <span>Share</span>
        </div>
        <div class="playlist-context-item" onclick="showExportModal(currentContextPlaylistId)">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line></svg>
            <span>Export</span>
        </div>
        <div class="playlist-context-divider"></div>
        <div class="playlist-context-item danger" onclick="confirmDeletePlaylist(currentContextPlaylistId)">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path></svg>
            <span>Delete</span>
        </div>
    </div>

    <!-- Share Profile Card Modal -->
    <div class="modal" id="shareProfileCardModal">
        <div class="modal-backdrop" onclick="hideShareProfileCardModal()"></div>
        <div class="modal-content share-card-modal">
            <h3>Share Your Music Profile</h3>
            <p class="share-card-subtitle">Download and share your listening stats</p>

            <!-- Card Preview -->
            <div class="share-card-preview-container">
                <div class="share-card-preview" id="shareCardPreview">
                    <div class="share-card-bg"></div>
                    <div class="share-card-content">
                        <div class="share-card-header">
                            <img class="share-card-avatar" id="shareCardAvatar" src="" alt="">
                            <div class="share-card-user">
                                <span class="share-card-name" id="shareCardName"></span>
                                <span class="share-card-handle" id="shareCardHandle"></span>
                            </div>
                        </div>
                        <div class="share-card-stats">
                            <div class="share-card-stat">
                                <span class="share-card-stat-value" id="shareCardSongsPlayed">0</span>
                                <span class="share-card-stat-label">Songs Played</span>
                            </div>
                            <div class="share-card-stat">
                                <span class="share-card-stat-value" id="shareCardLikedSongs">0</span>
                                <span class="share-card-stat-label">Liked Songs</span>
                            </div>
                            <div class="share-card-stat">
                                <span class="share-card-stat-value" id="shareCardPlaylists">0</span>
                                <span class="share-card-stat-label">Playlists</span>
                            </div>
                        </div>
                        <div class="share-card-top-artists" id="shareCardTopArtists">
                            <!-- Top artists will be populated here -->
                        </div>
                        <div class="share-card-footer">
                            <span class="share-card-logo">TLDRMusic</span>
                            <span class="share-card-url" id="shareCardUrl"></span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="share-card-actions">
                <button class="btn-primary" onclick="downloadShareCard()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                        <polyline points="7 10 12 15 17 10"/>
                        <line x1="12" y1="15" x2="12" y2="3"/>
                    </svg>
                    Download Image
                </button>
                <button class="btn-secondary" onclick="copyProfileLink()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/>
                        <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/>
                    </svg>
                    Copy Link
                </button>
            </div>
        </div>
    </div>

    <!-- Toast -->
    <div class="toast" id="toast">
        <span id="toastMessage"></span>
    </div>

    <!-- html2canvas for share card generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="auth.js?v=13"></script>
    <script src="app.js?v=55"></script>
    <script src="js/router.js?v=1"></script>
</body>
</html>
